<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desafio 4 - form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
</head>

<body class="min-vh-100 bg-black text-white">
    <header class="container my-2">
        <div class="row text-center">
            <div class="col-12">
                <h2>Desafio 4</h2>
            </div>
            <div class="col-12">
                <h1>Bootstrap</h1>
            </div>
        </div>
    </header>
    <main class="my-2">
        <section class="container-sm bg-dark border-black rounded-5 p-4 w-75">
            <form class="needs-validation" novalidate>
                <div class="row">
                    <div class="col-4 mb-3">
                        <label for="name" class="form-label">Nome completo</label>
                        <div class="input-group has-validation">
                            <input type="text" class="form-control" id="name" placeholder="Digite seu nome"
                                aria-describedby="name" required>
                        </div>
                        <div class="invalid-tooltip">
                            Please choose a unique and valid username.
                        </div>
                    </div>
                    <div class="col-4 mb-3">
                        <label for="email" class="form-label">Email</label>
                        <div class="input-group has-validation">
                            <input type="email" class="form-control" id="email" placeholder="Digite seu email"
                                aria-describedby="emailHelp" required>
                        </div>
                        <div id="emailHelp" class="form-text">Suas informações serão mantidas e protegidas.</div>
                    </div>
                    <div class="col-4 mb-3">
                        <label for="subject" class="form-label">Assunto</label>
                        <div class="input-group has-validation">
                            <select id="subject" class="form-select" aria-label="Default select example" required>
                                <option selected>Escolha um assunto</option>
                                <option value="1">Quero aprender a fazer sites</option>
                                <option value="1">Quero aprender a fazer APIs</option>
                                <option value="2">Quero aprender a fazer programas</option>
                                <option value="3">Quero aprender a fazer sistemas</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="message" class="form-label">Mensagem</label>
                    <div class="input-group has-validation">
                        <textarea class="form-control" id="message" name="message" placeholder="Digite a sua mensagem"
                            rows="3" required></textarea>
                    </div>
                </div>
                <div class="mb-3 form-check">
                    <div class="input-group has-validation">
                        <input type="checkbox" class="form-check-input" id="checkbox" required>
                        <label class="form-check-label ms-2" for="checkbox">Marque essa opção se concorda que esse é um
                            bom
                            site</label>
                    </div>
                </div>
                <button type="submit" id="btnEnviar" class="btn btn-primary">Enviar</button>
            </form>
        </section>
    </main>

    <!-- bootstrap script -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
        crossorigin="anonymous"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            'use strict';

            const form = document.querySelector('.needs-validation');

            form.addEventListener('submit', function(event){
                event.preventDefault();
                event.stopPropagation();

                form.classList.add('was-validated');

                if(form.checkValidity()) {
                    showAlert();

                    setTimeout(() => {
                        form.reset();
                        form.classList.remove('was-validated');
                    }, 3000);
                }
            });

            function showAlert() {
                let div = document.createElement('div');

                div.innerHTML = `
                <div class="alert alert-success" role="alert">
                    Formulario enviado com sucesso!
                </div>
            `;

                document.querySelector('form').prepend(div);

                setTimeout(() => {
                    div.remove();
                }, 3000);
            }
        });
    </script>
</body>

</html>